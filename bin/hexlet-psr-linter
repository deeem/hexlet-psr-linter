#!/usr/bin/env php

<?php

require_once __DIR__ . '/../vendor/autoload.php';

$path = $argv[1] ?? null;
$msg = "Usage: hexlet-pst-linter filename\n";

if (!file_exists($path)) {
    exit($msg);
}

$pathinfo = pathinfo($path);
if (!$pathinfo['extension'] == strtolower('php')) {
    exit($msg);
}

$linter = new \HexletPsrLinter\Linter(file_get_contents($path));
$linter->validate();
